http://ejohn.org/blog/javascript-micro-templating/